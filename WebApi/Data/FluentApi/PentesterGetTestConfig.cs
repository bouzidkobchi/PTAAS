using Microsoft.EntityFrameworkCore;
using WebApi.Models;

namespace WebApi.Data.FluentApi
{
    public static class PentesterGetTestConfig
    {
        public static ModelBuilder AddPentesterGetTestEntity(this ModelBuilder modelBuilder)
        {
            var PentesterGetTestEntity = modelBuilder.Entity<PentesterGetTest>();

            PentesterGetTestEntity.HasOne(pt => pt.Test)
                .WithMany()
                .OnDelete(DeleteBehavior.NoAction)
                .HasForeignKey(pt => pt.TestId);

            PentesterGetTestEntity.HasOne(pt => pt.Pentester)
                .WithMany()
                .OnDelete(DeleteBehavior.NoAction)
                .HasForeignKey(pt => pt.PentesterId);

            return modelBuilder;
        }
    }
}
